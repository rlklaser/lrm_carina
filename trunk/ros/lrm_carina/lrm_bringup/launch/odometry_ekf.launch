<launch>

    <!--
	<param
		name="/use_sim_time"
		value="true" />
	-->
	<!-- 
	<node
		pkg="tf"
		type="static_transform_publisher"
		name="ekf_odom_broadcaster"
		args="0 0 0 0 0 0 map ekf_odom 50"
		output="screen" />
    -->
 
<!-- pkg="robot_pose_ekf" -->

	<rosparam
		command="load"
		file="$(find lrm_bringup)/params/odometry_ekf_params.yaml" />
		
	<node
		pkg="lrm_odometry"
		type="robot_pose_ekf"
		name="robot_pose_ekf"
		output="screen"
		respawn="true"
	>
<!-- 
		<param
			name="output_frame"
			value="/odom_combined" />
		<param
			name="freq"
			value="50.0" />
		<param
			name="sensor_timeout"
			value="1.0" />
		<param
			name="odom_used"
			value="true" />
		<param
			name="imu_used"
			value="false" />
		<param
			name="vo_used"
			value="false" />
		<param
			name="gps_used"
			value="true" />
		<param
			name="debug"
			value="false" />
		<param
			name="self_diagnose"
			value="false" />
		<param
			name="publish_tf"
			value="false" />
-->

		<remap
			from="imu_data_x"
			to="/lse_xsens_mti/xsens/imu/data" />
		<remap
			from="imu_data"
			to="/calibrated/imu/data" />
		<remap
			from="gps"
			to="/gps_odometry/odom" />
		<remap
			from="odom"
			to="/wheel_odometry/odom" />
			
	</node>

	<node
		name="ekf_odometry"
		pkg="lrm_odometry"
		type="odom_from_pose_node"
		output="screen"
		respawn="true"
	>
<!-- 
		<param
			name="frame_id"
			value="ekf_odom" />
		<param
			name="child_frame_id"
			value="base_footprint" />
 -->
		<remap
			from="pose"
			to="/robot_pose_ekf/pose" />
	</node>

</launch>
